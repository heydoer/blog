# Plan9 汇编指南

> 为打字方便，下文将 Plan9 简称为 p9

## 为啥要学 Plan9 asm
作为一款教科书式的os，如果不是*golang*，估计很多人都没听过p9（实际上大部分在用go的人也没听过），那是因为这个系统确实很冷门，以至于现在只沦落为极客们用来把玩探索的"玩具"，几乎没有太多使用价值了。

我们看下p9的 [wikipedia](https://en.wikipedia.org/wiki/Plan_9_from_Bell_Labs) ，发现这个东西实在是太屌了，出自UNIX之父 [Ken Thompson](https://en.wikipedia.org/wiki/Plan_9_from_Bell_Labs)  和一众贝尔实验室大神之手。这个项目有很多创新之举，比如彻底贯彻UNIX万物皆文件的理念，将几乎所有系统都被抽象为无差别的文件对象（这可远比vfs要彻底的多了），又比如首次使用了utf8（没错utf8也是这群人搞的），再比如设计了全新的汇编器等等……

作为几乎同一个时代的产物，p9为何输给了linux，网络上关于此有意思的争论很多（大多是引战贴），观点无外乎是糟糕的商业化、高高在上的学院风、彻底另起炉灶不切实际的野心等等。不管怎么说，p9作为一个os确实是彻头彻底的失败了，无论是作为企业还是个人，确实再没有太多深入学习这个东西的刚需了。

但有意思的是，随着*golang*在国内的兴起，p9的搜索量也跟着蹭蹭往上窜。

了解go历史的人都知道，golang很多设计理念源于p9，甚至连核心开发都是同一拨老逗比，最重要的是，golang这玩意儿根本就是在p9上开发的，和p9用的同一套汇编风格，更不得了的是，go在1.5之后已经完全摆脱了C，实现了自举。

这意味着你要彻底搞懂golang（从标准库到runtime再到asm），不需要学c了，学go和go-asm就好了，但又因为go-asm和plan9-asm用的一套风格，所以你不得不把plan9再挖出来鞭个尸……

万幸的是，只要你有其他平台的asm基础，p9的汇编其实比较好学，后文主要整理p9 asm的基础知识，搞定这个，golang的asm就不在话下了。

*tips：看p9和golang的吉祥物，就知道这俩货的关系不简单*

<img src="/images/plan9_3.png" alt="" style="" />

## 
